<?xml version="1.0" ?>
<robot
name="four_wheel_rover"
xmlns:xacro="http://www.ros.o
rg/wiki/xacro">
 <xacro:property
name="wheel_radius"
value="0.05"/>
 <xacro:property
name="wheel_width"
value="0.02"/>
 <xacro:property
name="wheel_sep"
value="0.35"/>
 <xacro:property
name="base_len"
value="0.4"/>
 <xacro:property
name="base_wid"
value="0.3"/>
 <xacro:property
name="base_height"
value="0.1"/>
 <link name="base_link">
 <visual>
 <geometry>
 <box size="${base_len}
${base_wid} ${base_height}"/>
 </geometry>
 </visual>
 <inertial>
 <mass value="5.0"/>
 <inertia ixx="0.1" iyy="0.1"
izz="0.1" ixy="0" ixz="0"
iyz="0"/>
 </inertial>
 </link>
 <!-- Wheel macro -->
 <xacro:macro name="wheel"
params="prefix x y">
 <link
name="${prefix}_wheel">
 <visual>
 <geometry>
 <cylinder
radius="${wheel_radius}"
length="${wheel_width}"/>
 </geometry>
 <origin rpy="1.5708 0 0"
xyz="0 0 0"/>
 </visual>
 <collision>
 <geometry>
 <cylinder
radius="${wheel_radius}"
length="${wheel_width}"/>
 </geometry>
 </collision>
 <inertial>
 <mass value="0.2"/>
 <inertia ixx="0.001"
iyy="0.001" izz="0.001" ixy="0"
ixz="0" iyz="0"/>
 </inertial>
 </link>
 <joint
name="${prefix}_wheel_joint"
type="continuous">
 <parent link="base_link"/>
 <child
link="${prefix}_wheel"/>
 <origin xyz="${x} ${y} -
${wheel_radius}" rpy="0 0 0"/>
 <axis xyz="0 1 0"/>
 </joint>
 </xacro:macro>
 <xacro:wheel
prefix="front_left" x="0.15"
y="0.15"/>
 <xacro:wheel
prefix="front_right" x="0.15"
y="-0.15"/>
 <xacro:wheel
prefix="rear_left" x="-0.15"
y="0.15"/>
 <xacro:wheel
prefix="rear_right" x="-0.15"
y="-0.15"/>
 <gazebo>
 <plugin
name="diff_drive_controller"
filename="libgazebo_ros_diff_d
rive.so">

<leftJoint>rear_left_wheel_join
t</leftJoint>

<leftJoint>front_left_wheel_joi
nt</leftJoint>

<rightJoint>rear_right_wheel_j
oint</rightJoint>

<rightJoint>front_right_wheel_j
oint</rightJoint>

<wheelSeparation>${wheel_se
p}</wheelSeparation>

<wheelDiameter>0.1</wheelDi
ameter>

<commandTopic>cmd_vel</co
mmandTopic>

<odometryTopic>odom</odom
etryTopic>

<robotBaseFrame>base_link</r
obotBaseFrame>
 <publishTf>true</publishTf>
 </plugin>
 </gazebo>
</robot>
